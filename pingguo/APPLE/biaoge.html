<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		
	</head>
	<style type="text/css">
		*{
			margin: 0;
			padding: 0;
			list-style: none;
		}
		table{
			border-collapse: collapse;
			width: 100%;
			text-align: center;
		}
		.box{
			width: 600px;
			height: auto;
			padding: 10px 15px;
			margin: 20px auto;
			background: #f0f0f0;
			border-radius: 10px;
			position: relative;
		}
		th{
			padding: 5px 0;
		}
		td{
			padding: 5px 0;
		}
		td button{
			width: 50px;
			height: 35px;
			background: #ff6700;
			text-align: center;
			line-height: 35px;
		}
		#and{
			width: 50px;
			height: 35px;
			background: #FF6700;
			text-align: center;
			line-height: 35px;
			/*position: absolute;
			right: 35px;
			top: 20px;*/
		}
		tr{
			width: 100%;
			height: 41px;
			transition: all 0.5s linear;
		}
	</style>
	<body>
		<div class="box">
			<table>
				<tr>
					<th>å§“å</th>
					<th>æ€§åˆ«â™€/â™‚</th>
					<th>å¹´é¾„</th>
					<th>ç”µè¯â˜</th>
					<th class="del">æ“ä½œ</th>
				</tr>
				<tr>
					<td>æ›¹è¶Š</td>
					<td>ğŸ‘¦</td>
					<td>18</td>
					<td>10086</td>
					<td class="del"><button>åˆ é™¤</button></td>
				</tr>
				<tr>
					<td>åˆ˜å°†</td>
					<td>ğŸ‘¦</td>
					<td>18</td>
					<td>10010</td>
					<td class="del"><button>åˆ é™¤</button></td>
				</tr>
				<tr>
					<td>ç‹è…¾é£</td>
					<td>ğŸ‘§</td>
					<td>18</td>
					<td>10086</td>
					<td class="del"><button>åˆ é™¤</button></td>
				</tr>
				<tr>
					<td>äºğŸ</td>
					<td>ğŸ‘§</td>
					<td>18</td>
					<td>10086</td>
					<td class="del"><button>åˆ é™¤</button></td>
				</tr>
				<tr>
					<td>ç‹äºšé£</td>
					<td>ğŸ‘¦</td>
					<td>18</td>
					<td>10086</td>
					<td class="del"><button>åˆ é™¤</button></td>
				</tr>
				<tr>
					<td>å¼ å›ğŸ‘</td>
					<td>ğŸ‘§</td>
					<td>18</td>
					<td>10086</td>
					<td class="del"><button>åˆ é™¤</button></td>
				</tr>
				<button id="and">æ·»åŠ </button>
			</table>
		</div>
	</body>
</html>
<script src="4-28.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
//	let box=$(".box")[0];
//	let jia=document.getElementsByClassName("jia")[0];
//	let table=document.getElementsByTagName("table");
//	let tr=document.querySelectorAll("tr");
//	let det=document.querySelectorAll("td button");
//	console.log(table)
//	console.log(tr)
//	for(let i=0;i<det.length;i++){
//		det[i].onclick=function(){
//			tr[i+1].style.display="none"
//		}
//	}
//	jia.onclick=function(){
//		
//	}
	
	$(function(){
		let table=$("tbody")[0];
		let box=$(".box")[0];
		let and=$("#and");

		localStorage.student=`[
						{"name":"ä»»é›¨","sex":"ğŸ‘§","age":"18","tell":"110"},
						{"name":"å´”åšåŸ","sex":"ğŸ‘¦","age":"18","tell":"110"},
						{"name":"åˆ˜å©·","sex":"ğŸ‘§","age":"18","tell":"110"},
						{"name":"è´¾æµ©","sex":"ğŸ‘¦","age":"18","tell":"110"}
					]`
			let str = JSON.stringify(localStorage.student)
			let json=JSON.parse(str);
			console.log(typeof localStorage.student)
			console.log(json[0]);
			let student=JSON.parse(localStorage.student);
//			student.forEach(function(value){
//					let tr=document.createElement("tr");
//					tr.innerHTML=`
//							<td>${value.name}</td>
//							<td>${value.sex}</td>
//							<td>${value.age}</td>
//							<td>${value.tell}</td>
//							<td class="del"><button>åˆ é™¤</button></td>
//						`;
//						table.appendChild(tr)
//			})
		//ç¼–è¾‘td  äº‹ä»¶å§”æ´¾  td-->table
		//åˆ›å»ºinput
		//å•å…ƒæ ¼ -->input
		//å•å…ƒæ ¼æ¸…ç©º
		//input-->å•å…ƒæ ¼
		//ç¼–è¾‘ä¹‹å  ä¿å­˜input.value
		//input.value-->remove
		table.onclick=function(e){
			let obj=e.target;
			if(obj.nodeName=="TD" && obj.className!="del"){
				
				let input=document.createElement("input");
//				let input=$("input");
				let odiv=obj.innerText;
				input.value=odiv;
				obj.innerText="";
				obj.appendChild(input);
				input.onblur=function(){
					let newv=input.value;
					obj.removeChild(input);
					obj.innerText=newv;
				}
					
			}else if(obj.nodeName=="BUTTON"){
//					alert(1)
					let tr=obj.parentNode.parentNode;
					tr.style.transform="translateX(600px)";
					tr.addEventListener("webkitTransitionEnd",function(){
						table.removeChild(tr);
					},false)
					
				}
		}
	
				and.onclick=function(){
					let tr=document.createElement("tr");
					tr.innerHTML=`<tr>
									<td>é«˜é–ğŸ‘</td>
									<td>ğŸ‘§</td>
									<td>18</td>
									<td>10086</td>
									<td class="del"><button>åˆ é™¤</button></td>
								</tr>`
					table.appendChild(tr)
					
				}
		
	
	
	})
			

//		student.forEach(){
//			
//		}
	
</script>